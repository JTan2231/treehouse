<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .title }}</title>
</head>
<script>
    const root = {{ .API_ROOT }};
    const timestamp = {{ .timestamp }};
    const currentYear = new Date().toDateString().split(' ')[3];
    let date = new Date(Date.parse(timestamp)).toDateString().split(' ');
    date = `${date[1]} ${date[2]}` + (date[3] === currentYear ? `` : `, ${date[3]}`);

    window.onload = () => document.getElementById('timestamp').innerHTML = date;
</script>
<style>
    .authorFlex {
        display: flex;
        justify-content: space-between;
    }
</style>
<link rel="stylesheet" href="/styles/root.css">
<link rel="stylesheet" href="/styles/article_viewer.css">
<body class="flexWrapperVertical">
    {{ template "header.tmpl" .}}

    <div class="flexWrapper pageContentsScroll flexLeft">
        <div class="pageTitle articleTitle">{{ .title }}</div>
        <div class="articleSubtitle">{{ .subtitle }}</div>
        <div class="styledFont author authorFlex">
            <a class="authorLink" href="/{{ .username }}">{{ .username }}</a>
            <span class="styledFont timestamp" id="timestamp"></span>
        </div>
        <div class="articleBody">
            {{ range $c := .content }}
                <p>{{ $c }}</p>
            {{ end }}
        </div>
    </div>
</body>
</html>
